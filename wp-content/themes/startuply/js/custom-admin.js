!function(t){window.InlineShortcodeView_vc_row&&(window.InlineShortcodeView_vsc_content_slider=window.InlineShortcodeView_vc_row.extend({events:{"click > :first > .vc_empty-element":"addElement","click > :first > .wpb_wrapper > .ui-tabs-nav > li":"setActiveTab"},already_build:!1,active_model_id:!1,$tabsNav:!1,active:0,render:function(){return _.bindAll(this,"stopSorting"),this.$tabs=this.$el.find("> .wpb_tabs"),window.InlineShortcodeView_vc_tabs.__super__.render.call(this),this.buildNav(),this},buildNav:function(){var e=this.tabsControls();this.$tabs.find('> .wpb_wrapper > .vc_element[data-tag="vc_tab"]').each(function(i){t("li:eq("+i+")",e).attr("data-m-id",t(this).data("model-id"))})},changed:function(){0==this.$el.find(".vc_element[data-tag]").length?this.$el.addClass("vc_empty").find("> :first > div").addClass("vc_empty-element"):this.$el.removeClass("vc_empty").find("> :first > div").removeClass("vc_empty-element"),this.setSorting()},setActiveTab:function(e){var i=t(e.currentTarget);this.active_model_id=i.data("m-id")},tabsControls:function(){return this.$tabsNav?this.$tabsNav:this.$tabsNav=this.$el.find(".wpb_tabs_nav")},buildTabs:function(t){if(t&&(this.active_model_id=t.get("id"),this.active=this.tabsControls().find("[data-m-id="+this.active_model_id+"]").index()),this.active_model_id===!1){var e=this.tabsControls().find("li:first");this.active=e.index(),this.active_model_id=e.data("m-id")}this.checkCount()||vc.frame_window.vc_iframe.buildTabs(this.$tabs,this.active)},checkCount:function(){return this.$tabs.find('> .wpb_wrapper > .vc_element[data-tag="vc_tab"]').length!=this.$tabs.find("> .wpb_wrapper > .vc_element.vc_vc_tab").length},beforeUpdate:function(){this.$tabs.find(".wpb_tabs_heading").remove(),vc.frame_window.vc_iframe.destroyTabs(this.$tabs)},updated:function(){window.InlineShortcodeView_vc_tabs.__super__.updated.call(this),this.$tabs.find(".wpb_tabs_nav:first").remove(),this.buildNav(),vc.frame_window.vc_iframe.buildTabs(this.$tabs),this.setSorting()},rowsColumnsConverted:function(){_.each(vc.shortcodes.where({parent_id:this.model.get("id")}),function(t){t.view.rowsColumnsConverted&&t.view.rowsColumnsConverted()})},addTab:function(t){if(this.updateIfExistTab(t))return!1;var e,i=this.buildControlHtml(t);return t.get("cloned")&&(e=this.tabsControls().find("[data-m-id="+t.get("cloned_from").id+"]")).length?t.get("cloned_appended")||(i.appendTo(this.tabsControls()),t.set("cloned_appended",!0)):i.appendTo(this.tabsControls()),this.changed(),!0},cloneTabAfter:function(t){this.$tabs.find("> .wpb_wrapper > .wpb_tabs_nav > div").remove(),this.buildTabs(t)},updateIfExistTab:function(t){var e=this.tabsControls().find("[data-m-id="+t.get("id")+"]");return e.length?(e.attr("aria-controls","tab-"+t.getParam("tab_id")).find("a").attr("href","#tab-"+t.getParam("tab_id")).text(t.getParam("title")),!0):!1},buildControlHtml:function(e){var i=(e.get("params"),t('<li data-m-id="'+e.get("id")+'"><a href="#tab-'+e.getParam("tab_id")+'"></a></li>'));return i.data("model",e),i.find("> a").text(e.getParam("title")),i},addElement:function(t){t&&t.preventDefault(),(new vc.ShortcodesBuilder).create({shortcode:"vc_tab",params:{tab_id:vc_guid()+"-"+this.tabsControls().find("li").length,title:this.getDefaultTabTitle()},parent_id:this.model.get("id")}).render()},getDefaultTabTitle:function(){return window.i18nLocale.tab},setSorting:function(){vc.frame_window.vc_iframe.setTabsSorting(this)},stopSorting:function(e,i){this.tabsControls().find("> li").each(function(e,i){var a=t(this).data("model");a.save({order:e},{silent:!0})})},placeElement:function(t,e){var i=vc.shortcodes.get(t.data("modelId"));i&&i.get("place_after_id")?(t.insertAfter(vc.$page.find("[data-model-id="+i.get("place_after_id")+"]")),i.unset("place_after_id")):t.insertAfter(this.tabsControls()),this.changed()},removeTab:function(t){if(1==vc.shortcodes.where({parent_id:this.model.get("id")}).length)return this.model.destroy();var e=this.tabsControls().find("[data-m-id="+t.get("id")+"]"),i=e.index();this.tabsControls().find("[data-m-id]:eq("+(i+1)+")").length?vc.frame_window.vc_iframe.setActiveTab(this.$tabs,i+1):this.tabsControls().find("[data-m-id]:eq("+(i-1)+")").length?vc.frame_window.vc_iframe.setActiveTab(this.$tabs,i-1):vc.frame_window.vc_iframe.setActiveTab(this.$tabs,0),e.remove()},clone:function(t){_.each(vc.shortcodes.where({parent_id:this.model.get("id")}),function(t){t.set("active_before_cloned",this.active_model_id===t.get("id"))},this),window.InlineShortcodeView_vc_tabs.__super__.clone.call(this,t)}}));var e=t(".sidebars-column-2 [id^=sidebar_sub_menu]").closest(".widgets-holder-wrap");t(".sidebars-column-1").append(e);var i=t(".sidebars-column-1 [id^=sidebar_footer]").closest(".widgets-holder-wrap");t(".sidebars-column-2").prepend(i),t("body").on("change","[name=downloads_startuply_edd_view]",function(){var e=t(this),i=e.val(),a=e.closest(".vc_edit_form_elements"),n=a.find('[name="downloads_columns"]');"list"==i?(n.find("option").hide(),n.find("[value=1], [value=2]").show(),("3"==n.val()||"4"==n.val())&&n.val(1)):(n.find("option").hide(),n.find("[value=2], [value=3], [value=4]").show(),"1"==n.val()&&n.val(2))})}(window.jQuery);
